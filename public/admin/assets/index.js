var A=Object.defineProperty;var y=Object.getOwnPropertySymbols;var T=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable;var v=(e,o,r)=>o in e?A(e,o,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[o]=r,x=(e,o)=>{for(var r in o||(o={}))T.call(o,r)&&v(e,r,o[r]);if(y)for(var r of y(o))V.call(o,r)&&v(e,r,o[r]);return e};import{u as $,a as S,r as a,o as N,c as C,w as i,b as n,d as D,e as u,f,g as j,h as q,i as B,j as k,k as H,z}from"./vendor.js";function oe(){import("data:text/javascript,")}const W=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))c(t);new MutationObserver(t=>{for(const l of t)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&c(s)}).observe(document,{childList:!0,subtree:!0});function r(t){const l={};return t.integrity&&(l.integrity=t.integrity),t.referrerpolicy&&(l.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?l.credentials="include":t.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function c(t){if(t.ep)return;t.ep=!0;const l=r(t);fetch(t.href,l)}};W();var F="./assets/logo.3667193d.png";const G=u("a",{href:"/index.html",target:"balnk"},[u("img",{src:F,style:{width:"50px","margin-right":"20px"},alt:""})],-1),K=u("h1",null,"\u6613\u5343\u56FE\u4E66\u9986\u7BA1\u7406\u9762\u677F",-1),U=u("span",null,"\u4E2A\u4EBA\u4E2D\u5FC3",-1),J=u("span",null,"\u7528\u6237\u7BA1\u7406",-1),M=u("span",null,"\u56FE\u4E66\u7BA1\u7406",-1),Q=u("span",null,"\u501F\u9605\u8BB0\u5F55\u7BA1\u7406",-1),X={setup(e){$();const o=S();return(r,c)=>{const t=a("el-header"),l=a("user"),s=a("el-icon"),d=a("el-menu-item"),m=a("user-filled"),E=a("document"),P=a("setting"),w=a("el-menu"),I=a("el-aside"),O=a("router-view"),R=a("el-main"),g=a("el-container");return N(),C(g,null,{default:i(()=>[n(t,{style:{display:"flex","align-items":"center"}},{default:i(()=>[G,K]),_:1}),n(g,null,{default:i(()=>[n(I,{width:"200px"},{default:i(()=>[n(w,{"active-text-color":"#ffd04b","background-color":"#2f4056","default-active":D(o).path,"text-color":"#fff",router:!0},{default:i(()=>[n(d,{index:"/home"},{default:i(()=>[n(s,null,{default:i(()=>[n(l)]),_:1}),U]),_:1}),n(d,{index:"/users"},{default:i(()=>[n(s,null,{default:i(()=>[n(m)]),_:1}),J]),_:1}),n(d,{index:"/books"},{default:i(()=>[n(s,null,{default:i(()=>[n(E)]),_:1}),M]),_:1}),n(d,{index:"/records"},{default:i(()=>[n(s,null,{default:i(()=>[n(P)]),_:1}),Q]),_:1})]),_:1},8,["default-active"])]),_:1}),n(R,null,{default:i(()=>[n(O)]),_:1})]),_:1})]),_:1})}}},Y="modulepreload",L={},Z="./",p=function(o,r){return!r||r.length===0?o():Promise.all(r.map(c=>{if(c=`${Z}${c}`,c in L)return;L[c]=!0;const t=c.endsWith(".css"),l=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${l}`))return;const s=document.createElement("link");if(s.rel=t?"stylesheet":Y,t||(s.as="script",s.crossOrigin=""),s.href=c,document.head.appendChild(s),t)return new Promise((d,m)=>{s.addEventListener("load",d),s.addEventListener("error",m)})})).then(()=>o())};var h={user:{},getToken(){return localStorage.getItem("token")},login(e){localStorage.setItem("token",e)},logout(){localStorage.removeItem("token"),this.user={}},isLogin(){return!!this.getToken()},async update(){if(!this.isLogin())return;let e=await f.get("/users/self",{headers:{token:this.getToken()}});e.status==200?this.user=e.data:Vue.prototype.$message.error("\u83B7\u53D6\u7528\u6237\u4FE1\u606F\u5931\u8D25")}};const ee=[{path:"/",redirect:"/home"},{path:"/home",component:()=>p(()=>import("./Home.js"),["assets/Home.js","assets/index2.js","assets/plugin-vue_export-helper.js","assets/vendor.js"])},{path:"/users",component:()=>p(()=>import("./Users.js"),["assets/Users.js","assets/index2.js","assets/plugin-vue_export-helper.js","assets/vendor.js"])},{path:"/books",component:()=>p(()=>import("./Books.js"),["assets/Books.js","assets/plugin-vue_export-helper.js","assets/vendor.js"])},{path:"/records",component:()=>p(()=>import("./Records.js"),["assets/Records.js","assets/plugin-vue_export-helper.js","assets/vendor.js"])}],b=j({history:q(),routes:ee});b.beforeEach(async(e,o)=>h.isLogin()?(await h.update(),h.user.userGroup!==0?(location.href="/index.html",!1):!0):(location.href="/login.html",!1));f.defaults.baseURL="/api";const _=B(X);for(const e in k)_.component(e,k[e]);_.use(b);_.use(H,{locale:x({},z)});_.config.warnHandler=()=>null;_.mount("#app");_.config.globalProperties.$http=f;f.interceptors.request.use(function(e){return console.log(e.method,e),e},function(e){return Promise.reject(e)});f.interceptors.response.use(function(e){return console.log("res ",e.data),e.data},function(e){return _.config.globalProperties.$message.error("\u7F51\u7EDC\u9519\u8BEF"),Promise.reject(e)});export{oe as __vite_legacy_guard,h as l};
